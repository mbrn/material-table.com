import { LiveCode } from 'libzy-lib';
import MaterialTable from 'material-table';

# Editable

material-table has inline editing feature that lets users to add, remove, update new rows.

## Usage

To make table editable, you should set `editable` prop that has `onRowAdd`, `onRowUpdate`, `onRowDelete`  functions to manipulate data. 
Every function must return a promise. 

```jsx
<MaterialTable
    editable={{
        isEditable: rowData => rowData.name === "a", // only name(a) rows would be editable
        isDeletable: rowData => rowData.name === "b", // only name(b) rows would be deletable
        onRowAdd: newData =>
            new Promise((resolve, reject) => {
                setTimeout(() => {
                    /* setData([...data, newData]); */

                    resolve();
                }, 1000);
            }),
        onRowUpdate: (newData, oldData) =>
            new Promise((resolve, reject) => {
                setTimeout(() => {
                    const dataUpdate = [...data];
                    const index = oldData.tableData.id;
                    dataUpdate[index] = newData;
                    setData([...dataUpdate]);

                    resolve();
                }, 1000);
            }),
        onRowDelete: oldData =>
            new Promise((resolve, reject) => {
                setTimeout(() => {
                    const dataDelete = [...data];
                    const index = oldData.tableData.id;
                    dataDelete.splice(index, 1);
                    setData([...dataDelete]);
                    
                    resolve();
                }, 1000);
            })
    }}
/>
```
<br />

## Hints 

* You can use `column.editComponent` to override edit component for a column.
* You can use `column.initialEditValue` to set initial value on addding new row.
* You can call `reject()` to keep open row editable. 

## Examples

<LiveCode
    code={require('!!raw-loader!./editable.js').default}
    scope={{ MaterialTable }}
    title="Editable Example"
    description="A simple editable implementation"
/>

<LiveCode
    code={require('!!raw-loader!./disable-field-editable.js').default}
    scope={{ MaterialTable }}
    title="Disable Field Editable Example"
    description="A simple editable implementation with a reaonly name column"
/>

<LiveCode
    code={require('!!raw-loader!./custom-edit-component.js').default}
    scope={{ MaterialTable }}
    title="Custom Edit Component Example"
    description="A simple editable implementation with a custom edit component for name field"
/>


